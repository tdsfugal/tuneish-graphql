FROM node:20-alpine

RUN yarn set version berry
RUN yarn set version latest 

WORKDIR /app

COPY package.json yarn.lock*  ./
RUN  yarn --immutable

ENV NEXT_TELEMETRY_DISABLED 1

COPY --link src ./src
COPY --link meta ./meta
COPY --link public ./public
COPY --link next.config.js .
COPY --link tsconfig.json .

EXPOSE 3000

CMD yarn dev